{% extends "base.html" %}

{% block title %}Gestión de Productos{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold mb-6">Productos del Restaurante</h1>
<table class="table-auto w-full border border-gray-300 shadow-lg rounded-lg">
	<thead class="bg-gray-800 text-white">
		<tr>
			<th class="px-4 py-2">ID</th>
			<th class="px-4 py-2">Nombre</th>
			<th class="px-4 py-2">Descripción</th>
			<th class="px-4 py-2">Precio</th>
			<th class="px-4 py-2">Stock</th>
			<th class="px-4 py-2">Categoría</th>
			<th class="px-4 py-2">Acciones</th>
		</tr>
	</thead>
	<tbody>
		{% for producto in productos %}
		<tr class="odd:bg-gray-100 even:bg-white hover:bg-gray-200">
			<td class="border px-4 py-2 text-center">{{ producto.idpro }}</td>
			<td class="border px-4 py-2">{{ producto.nompro }}</td>
			<td class="border px-4 py-2">{{ producto.despro }}</td>
			<td class="border px-4 py-2 text-right">${{ producto.prepro }}</td>
			<td class="border px-4 py-2 text-center">{{ producto.stopro }}</td>
			<td class="border px-4 py-2">{{ producto.tipcat }}</td>
			<td class="border px-4 py-2 text-center">
				<a href="/restaurante/productos/{{ producto.idpro }}/editar" class="text-blue-500 hover:underline">Editar</a>
				<form action="/restaurante/productos/{{ producto.idpro }}/eliminar" method="post" style="display:inline;">
					<button type="submit" class="text-red-500 hover:underline">Eliminar</button>
				</form>
			</td>
		</tr>
		{% endfor %}
	</tbody>
</table>

<h2 class="text-xl font-bold mt-8 mb-4">Agregar Producto</h2>
<form action="/restaurante/productos" method="post" class="space-y-4">
	<input type="text" name="nompro" placeholder="Nombre" class="w-full p-2 border rounded" required>
	<input type="text" name="despro" placeholder="Descripción" class="w-full p-2 border rounded">
	<input type="number" step="0.01" name="prepro" placeholder="Precio" class="w-full p-2 border rounded" required>
	<input type="number" name="stopro" placeholder="Stock" class="w-full p-2 border rounded" required>
	<select name="idcat" class="w-full p-2 border rounded bg-white text-black" required>
		<option value="" disabled selected>Seleccione una categoría</option>
		{% for categoria in categorias %}
		<option value="{{ categoria.idcat }}">{{ categoria.tipcat }}</option>
		{% endfor %}
	</select>
	<button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Agregar</button>
</form>
{% endblock %}
